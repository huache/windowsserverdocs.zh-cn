---
title: dir
description: Dir 命令的参考文章，其中显示了目录的文件和子目录的列表。
ms.topic: reference
ms.assetid: edcbf69b-eaa4-466e-b210-3dd8892f4d93
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: c5edcbaac04d6f87721644fb4943e75456a21f66
ms.sourcegitcommit: db2d46842c68813d043738d6523f13d8454fc972
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/10/2020
ms.locfileid: "89634991"
---
# <a name="dir"></a>dir

显示目录的文件和子目录的列表。 如果在没有参数的情况下使用，则此命令将显示磁盘的卷标和序列号，后跟磁盘上的目录和文件的列表 (包含它们的名称和上次修改的日期和时间) 。 对于文件，此命令将显示名称扩展名和大小（以字节为单位）。 此命令还显示列出的文件和目录的总数、其累计大小和可用空间 (以字节为单位) 磁盘上剩余。

**Dir**命令也可以使用不同的参数从 Windows 恢复控制台运行。 有关详细信息，请参阅 [Windows 恢复环境 (WinRE) ](/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference)。

## <a name="syntax"></a>语法

```
dir [<drive>:][<path>][<filename>] [...] [/p] [/q] [/w] [/d] [/a[[:]<attributes>]][/o[[:]<sortorder>]] [/t[[:]<timefield>]] [/s] [/b] [/l] [/n] [/x] [/c] [/4] [/r]
```

### <a name="parameters"></a>参数

| 参数 | 说明 |
| --------- | ----------- |
| `[<drive>:][<path>]` | 指定要查看其列表的驱动器和目录。 |
| `[<filename>]` | 指定要查看其列表的特定文件或文件组。 |
| /p | 一次显示列表的一个屏幕。 若要查看下一个屏幕，请按任意键。 |
| /q | 显示文件所有权信息。 |
| /W | 以宽格式显示列表，每行最多有五个文件名或目录名称。 |
| /d | 以与 **/w**相同的格式显示列表，但文件按列进行排序。 |
| /a [[：] `<attributes>` ] | 仅显示具有指定属性的这些目录和文件的名称。 如果不使用此参数，则该命令将显示除隐藏文件和系统文件之外的所有文件的名称。 如果在不指定任何 *属性*的情况下使用此参数，则该命令将显示所有文件的名称，包括隐藏文件和系统文件。 可能的 *属性* 值的列表如下：<ul><li>**d** -目录</li><li>**h** -隐藏文件</li><li>**s** 系统文件</li><li>**l** -重新分析点</li><li>**r** -只读文件</li><li>**a** -可用于存档的文件</li><li>**i** -非内容索引文件</li></ul>可以使用这些值的任意组合，但不要使用空格分隔值。 （可选）可以使用冒号 (： ) 分隔符，或者可以使用连字符 ( ) 作为前缀来表示 "not"。 例如，使用 **-s** 属性不会显示系统文件。 |
| /o [[：] `<sortorder>` ] | 根据 *sortorder*排序输出，可以是以下值的任意组合：<ul><li>**n** -按名称的字母顺序</li><li>**e** -按扩展字母顺序</li><li>**g** -组目录优先</li><li>**s** -按大小，最小优先</li><li>**d**按日期/时间排序，首先是最早的</li><li>使用 **-** 前缀反转排序顺序</li></ul>按列出顺序处理多个值。 不要使用空格分隔多个值，但可以选择使用冒号 (： ) 。<p>如果未指定 *sortorder* ， **dir/o** 会按字母顺序列出目录，后跟文件，它们也按字母顺序排序。 |
| /t [[：] `<timefield>` ] | 指定要显示或用于排序的时间字段。 可用的 *timefield* 值包括：<ul><li>**c** -创建</li><li>**a**上次访问时间</li><li>**w** -上次写入时间</li></ul> |
| /s | 列出指定目录和所有子目录中指定文件名的每个匹配项。 |
| /b | 显示目录和文件的简略列表，无附加信息。 **/B**参数会重写 **/w**。 |
| /l | 使用小写显示未排序的目录名称和文件名。 |
| /n | 显示一种长列表格式，其中的文件名称位于屏幕最右侧。 |
| /x | 显示为非8dot3 文件名生成的短名称。 显示与 **/n**的显示相同，但短名称插入到长名称之前。 |
| /c | 在文件大小中显示千位分隔符。 此选项为默认行为。 使用 **/c** 隐藏分隔符。 |
| /4 | 以四位数字格式显示年。 |
| /r | 显示文件的备用数据流。 |
| /? | 在命令提示符下显示帮助。 |

#### <a name="remarks"></a>备注

- 若要使用多个 *文件名* 参数，请使用空格、逗号或分号分隔每个文件名。

- 您可以使用通配符 (**&#42;** 或 **？**) ，来表示文件名的一个或多个字符，并显示文件或子目录的子集。

- 您可以使用通配符 **&#42;** 来替换任意字符字符串，例如：

  - `dir *.txt` 列出当前目录中扩展名以 .txt 开头的所有文件，例如 .txt、. txt1、. txt_old。

  - `dir read *.txt` 列出当前目录中以读取和开头为 .txt 开头的所有文件，例如 .txt、. txt1 或. txt_old。

  - `dir read *.*` 列出当前目录中所有扩展名以 "读取" 开头的所有文件。

  星号通配符始终使用短文件名映射，因此可能会收到意外的结果。 例如，以下目录包含两个文件 ( # B0 2 和 t97.txt) ：

  ```
  C:\test>dir /x
  Volume in drive C has no label.
  Volume Serial Number is B86A-EF32

  Directory of C:\test

  11/30/2004  01:40 PM <DIR>  .
  11/30/2004  01:40 PM <DIR> ..
  11/30/2004  11:05 AM 0 T97B4~1.TXT t.txt2
  11/30/2004  01:16 PM 0 t97.txt
  ```

  您可能会希望键入的 `dir t97\*` 将返回 t97.txt 的文件。 但是，键入 `dir t97\*` 将返回这两个文件，因为星号通配符与 t.txt2 的文件 t97.txt 使用其短名称映射 *T97B4 ~1.TXT*进行。 同样，键入 `del t97\*` 将删除这两个文件。

- 您可以使用问号 (？ ) 来替换名称中的单个字符。 例如，键入将 `dir read???.txt` 列出当前目录中所有扩展名为 .txt 的文件（以 read 开头，后跟最多三个字符）。 这包括 Read.txt、Read1.txt、Read12.txt、Read123.txt 和 Readme1.txt，但不包括 Readme12.txt。

- 如果对*属性*中的多个值使用 **/a** ，则此命令仅显示具有所有指定属性的文件的名称。 例如，如果通过使用或) 使用带有**r**和 **-h**的 **/a**作为属性 (`/a:r-h` ，则 `/ar-h` 此命令将只显示未隐藏的只读文件的名称。

- 如果指定多个 *sortorder* 值，则此命令将按第一个条件对文件名进行排序，然后按第二个条件对文件名进行排序，依此类推。 例如，如果通过使用或) 将 **/o** *与用于排序 (的* **e**和 **-s**参数一起使用，则 `/o:e-s` `/oe-s` 此命令将按扩展名对目录和文件的名称进行排序，首先会将其排在最前面，然后显示最终结果。 按扩展名排序的字母排序会导致不带扩展名的文件名先显示，然后是目录名称，然后是带有扩展名的文件名。

- 如果使用重定向符号 (`>`) 将此命令的输出发送到文件，或者使用管道 (`|`) 将此命令的输出发送到另一个命令，则必须使用 `/a:-d` 和 **/b** 才能仅列出文件名。 使用*filename*和 **/s**可以 **/b**指定此命令在当前目录及其子目录中搜索与*filename*匹配的所有文件名。 此命令仅列出驱动器号、目录名称、文件名和文件扩展名 (每行一个路径) ，为找到的每个文件名。 使用管道将此命令的输出发送到另一个命令之前，应在 Autoexec.bat 文件中设置 *TEMP* 环境变量。

## <a name="examples"></a>示例

若要逐个显示所有目录，请按字母顺序排列，并以宽格式显示，并在每个屏幕后暂停，确保根目录为当前目录，然后键入：

```
dir /s/w/o/p
```

输出会列出根目录、子目录以及根目录中的文件，包括扩展名。 此命令还列出树中每个子目录中的子目录名称和文件名。

若要更改前面的示例，使 **dir** 显示文件名称和扩展名，但省略目录名称，请键入：

```
dir /s/w/o/p/a:-d
```

若要打印目录列表，请键入：

```
dir > prn
```

指定 **prn**后，目录列表将发送到连接到 LPT1 端口的打印机。 如果打印机连接到不同的端口，则必须将 **prn** 替换为正确端口的名称。

还可以通过将**prn**替换为文件名，将**dir**命令的输出重定向到文件。 还可以键入路径。 例如，若要将 **目录输出定向** 到 "记录" 目录中的文件 dir.doc，请键入：

```
dir > \records\dir.doc
```

如果 dir.doc 不存在，则 **dir** 会创建它，除非 " **记录** " 目录不存在。 在这种情况下，将显示以下消息：

```
File creation error
```

若要在驱动器 C 上的所有目录中显示具有 .txt 扩展名的所有文件名的列表，请键入：

```
dir c:\*.txt /w/o/s/p
```

**Dir**命令以宽格式显示每个目录中匹配文件名的按字母顺序排列的列表，并在每次屏幕填满时暂停，直到你按任意键继续。

## <a name="additional-references"></a>其他参考

- [命令行语法项](command-line-syntax-key.md)
